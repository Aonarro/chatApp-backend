generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id                    Int            @id @default(autoincrement())
  email                 String?        @unique
  firstName             String
  lastName              String
  password              String
  conversationsCreated  Conversation[] @relation("CreatorConversations")
  conversationsReceived Conversation[] @relation("RecipientConversations")

  @@map("users")
}

model Conversation {
  id          Int  @id @default(autoincrement())
  creator     User @relation("CreatorConversations", fields: [creatorId], references: [id])
  creatorId   Int
  recipient   User @relation("RecipientConversations", fields: [recipientId], references: [id])
  recipientId Int

  @@unique([creatorId, recipientId])
  @@map("conversations")
}
